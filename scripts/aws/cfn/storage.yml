AWSTemplateFormatVersion: '2010-09-09'
Description: Some storage with input and output

Parameters:
  ProjectName:
    Type: String
    Description: "Nome dell'ambiente destinazione"

  # Unused but required by CD pipeline
  MicroserviceNumber:
    Type: Number
    Description: An unique number that identify the microservice inside the ECS cluster.

  # Unused but required by CD pipeline
  TemplateBucketBaseUrl:
    Type: String
    Description: URL da cui caricare i frammenti di template di infrastruttura
  
  Version:
    Type: String
    Description: 'keep track of used projects commitIds'
  
  # CdcKinesisSourceStreamArn:
  #   Type: String
  #   Description: 'Where to send CDC'


Resources:

  PnEcTableAnagrafica:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: 'cxId'
          AttributeType: 'S'
      KeySchema: 
        - AttributeName: 'cxId'
          KeyType: 'HASH'
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 5
      SSESpecification:
        SSEEnabled: true
        SSEType: 'KMS'
      TableClass: 'STANDARD'
    DeletionPolicy: Retain

  PnEcTableRichieste:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: 'requestId'
          AttributeType: 'S'
      KeySchema: 
        - AttributeName: 'requestId'
          KeyType: 'HASH'
      #KinesisStreamSpecification:
      #  StreamArn: 'String'
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 5
      SSESpecification:
        SSEEnabled: true
        SSEType: 'KMS'
      TableClass: 'STANDARD'
    DeletionPolicy: Delete

  PnEcTableRichiesteMetadati:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: 'requestId'
          AttributeType: 'S'
      KeySchema: 
        - AttributeName: 'requestId'
          KeyType: 'HASH'
      #KinesisStreamSpecification:
      #  StreamArn: 'String'
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 5
      SSESpecification:
        SSEEnabled: true
        SSEType: 'KMS'
      TableClass: 'STANDARD'
    DeletionPolicy: Delete

######### NOTIFICATION TRACKER QUEUES  ############
######### TRACKER : SMS  ############
  PnEcQueueTrackerStatoSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueTrackerStatoSMS.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerStatoSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueTrackerErroriSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn: !GetAtt PnEcDLQueueTrackerErroriSMS.Arn
        maxReceiveCount: 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerErroriSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

######### TRACKER : PEC  ##########

  PnEcQueueTrackerStatoPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueTrackerStatoPEC.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerStatoPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueTrackerErroriPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn: !GetAtt PnEcDLQueueTrackerErroriPEC.Arn
        maxReceiveCount: 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerErroriPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

######### TRACKER : EMAIL  #########

  PnEcQueueTrackerStatoEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueTrackerStatoEMAIL.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerStatoEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueTrackerErroriEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn: !GetAtt PnEcDLQueueTrackerErroriEMAIL.Arn
        maxReceiveCount: 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerErroriEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

######### TRACKER : CARTACEO  #########

  PnEcQueueTrackerStatoCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueTrackerStatoCARTACEO.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerStatoCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueTrackerErroriCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn: !GetAtt PnEcDLQueueTrackerErroriCARTACEO.Arn
        maxReceiveCount: 10
      VisibilityTimeout: 30

  PnEcDLQueueTrackerErroriCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

###### EXTERNAL PLATFORM NOTIFICATIONS #######

  PnEcQueueNotificheExt1:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueNotificheExt1.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueNotificheExt1:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30
   
  PnEcEventRuleNotificheExt1:
    Type: AWS::Events::Rule
    Properties:
      Description: Description
      EventPattern:   
        source: 
          - 'NOTIFICATION TRACKER'
      State: 'ENABLED'
      Targets:
        - Arn: !GetAtt PnEcQueueNotificheExt1.Arn
          Id: 'PnEcExt1QueueTargetForExtNotification'

  PnEcEventBusTrackerExternalNotification: 
    Type: AWS::Events::EventBus
    Properties: 
        Name: 'Pn-Ec-Tracker-Notifications-Bus'

  # PnEcEventBusArchiveTrackerExternalNotification:
  #   Type: AWS::Events::Archive
  #   Properties: 
  #     Description: 'Archive for storage of events to be delivered from Notification Tracker towards external platform'
  #     RetentionDays: 15
  #     SourceArn: !Ref PnEcEventBusTrackerExternalNotification

###### CHANNEL SMS #######

  PnEcQueueBatchSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueBatchSMS.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueBatchSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30
  
  PnEcQueueInteractiveSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueInteractiveSMS.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueInteractiveSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueErroriSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueErroriSMS.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueErroriSMS:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: 'alias/aws/sqs'
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30


###### CHANNEL PEC #######
  PnEcQueueBatchPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueBatchPEC.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueBatchPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueInteractivePEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueInteractivePEC.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueInteractivePEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueErroriPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueErroriPEC.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueErroriPEC:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

###### CHANNEL EMAIL #######
  PnEcQueueBatchEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueBatchEMAIL.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueBatchEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueInteractiveEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueInteractiveEMAIL.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueInteractiveEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueErroriEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueErroriEMAIL.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueErroriEMAIL:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30


###### CHANNEL CARTACEO #######

  PnEcQueueBatchCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueBatchCARTACEO.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueBatchCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

  PnEcQueueErroriCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1      
      RedrivePolicy:
        deadLetterTargetArn : !GetAtt PnEcDLQueueErroriCARTACEO.Arn
        maxReceiveCount : 10
      VisibilityTimeout: 30

  PnEcDLQueueErroriCARTACEO:
    Type: AWS::SQS::Queue
    Properties:
      KmsDataKeyReusePeriodSeconds: 300
      KmsMasterKeyId: "alias/aws/sqs"
      MessageRetentionPeriod: 1209600
      ReceiveMessageWaitTimeSeconds: 1
      VisibilityTimeout: 30

Outputs:

  PnEcEventBusNameTrackerExternalNotification:
    Description: 'Nome del Event Bus per le notifiche verso le piattaforme esterne'
    Value: !Ref PnEcEventBusTrackerExternalNotification

  PnEcEventBusArnTrackerExternalNotification:
    Description: 'ARN del Event Bus per le notifiche verso le piattaforme esterne'
    Value: !GetAtt PnEcEventBusTrackerExternalNotification.Arn

  PnEcTableNameAnagrafica:
    Description: 'Nome della Tabella DynamoDB relativa ad Anagrafica Client'
    Value: !Ref PnEcTableAnagrafica

  PnEcTableArnAnagrafica:
    Description: 'ARN della Tabella DynamoDB relativa ad Anagrafica Client'
    Value: !GetAtt PnEcTableAnagrafica.Arn

  PnEcTableNameRichieste:
    Description: 'Nome della Tabella DynamoDB relativa alle richieste'
    Value: !Ref PnEcTableRichieste

  PnEcTableArnRichieste:
    Description: 'ARN della Tabella DynamoDB relativa alle richieste'
    Value: !GetAtt PnEcTableRichieste.Arn

  PnEcTableNameRichiesteMetadati:
    Description: 'Nome della Tabella DynamoDB relativa alle richieste'
    Value: !Ref PnEcTableRichiesteMetadati

  PnEcTableArnRichiesteMetadati:
    Description: 'ARN della Tabella DynamoDB relativa alle richieste'
    Value: !GetAtt PnEcTableRichiesteMetadati.Arn

  PnEcQueueNameTrackerStatoSMS:
    Description: '[Notification Tracker: canale SMS] Nome della Coda per aggiornamenti di stato afferenti al canale SMS'
    Value: !GetAtt  PnEcQueueTrackerStatoSMS.QueueName

  PnEcQueueArnTrackerStatoSMS:
    Description: '[Notification Tracker: canale SMS] ARN della Coda per aggiornamenti di stato afferenti al canale SMS'
    Value: !GetAtt  PnEcQueueTrackerStatoSMS.Arn

  PnEcQueueUrlTrackerStatoSMS:
    Description: '[Notification Tracker: canale SMS] URL della Coda per aggiornamenti di stato afferenti al canale SMS'
    Value: !Ref  PnEcQueueTrackerStatoSMS

  PnEcDLQueueNameTrackerStatoSMS:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerStatoSMS'
    Value: !GetAtt  PnEcDLQueueTrackerStatoSMS.QueueName

  PnEcDLQueueArnTrackerStatoSMS:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerStatoSMS'
    Value: !GetAtt  PnEcDLQueueTrackerStatoSMS.Arn

  PnEcQueueNameTrackerErroriSMS:
    Description: '[Notification Tracker: canale SMS] Nome della Coda Errori afferenti al canale SMS'
    Value: !GetAtt  PnEcQueueTrackerErroriSMS.QueueName

  PnEcQueueArnTrackerErroriSMS:
    Description: '[Notification Tracker: canale SMS] ARN della Coda Errori afferenti al canale SMS'
    Value: !GetAtt  PnEcQueueTrackerErroriSMS.Arn

  PnEcQueueUrlTrackerErroriSMS:
    Description: '[Notification Tracker: canale SMS] URL della Coda Errori afferenti al canale SMS'
    Value: !Ref  PnEcQueueTrackerErroriSMS

  PnEcDLQueueNameTrackerErroriSMS:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerErroriSMS'
    Value: !GetAtt  PnEcDLQueueTrackerErroriSMS.QueueName

  PnEcDLQueueArnTrackerErroriSMS:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerErroriSMS'
    Value: !GetAtt  PnEcDLQueueTrackerErroriSMS.Arn

  PnEcQueueNameTrackerStatoPEC:
    Description: '[Notification Tracker: canale PEC] Nome della Coda per aggiornamenti di stato afferenti al canale PEC'
    Value: !GetAtt  PnEcQueueTrackerStatoPEC.QueueName

  PnEcQueueArnTrackerStatoPEC:
    Description: '[Notification Tracker: canale PEC] ARN della Coda per aggiornamenti di stato afferenti al canale PEC'
    Value: !GetAtt  PnEcQueueTrackerStatoPEC.Arn

  PnEcQueueUrlTrackerStatoPEC:
    Description: '[Notification Tracker: canale PEC] URL della Coda per aggiornamenti di stato afferenti al canale PEC'
    Value: !Ref  PnEcQueueTrackerStatoPEC

  PnEcDLQueueNameTrackerStatoPEC:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerStatoPEC'
    Value: !GetAtt  PnEcDLQueueTrackerStatoPEC.QueueName

  PnEcDLQueueArnTrackerStatoPEC:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerStatoPEC'
    Value: !GetAtt  PnEcDLQueueTrackerStatoPEC.Arn

  PnEcQueueNameTrackerErroriPEC:
    Description: '[Notification Tracker: canale PEC] Nome della Coda Errori afferenti al canale PEC'
    Value: !GetAtt  PnEcQueueTrackerErroriPEC.QueueName

  PnEcQueueArnTrackerErroriPEC:
    Description: '[Notification Tracker: canale PEC] ARN della Coda Errori afferenti al canale PEC'
    Value: !GetAtt  PnEcQueueTrackerErroriPEC.Arn

  PnEcQueueUrlTrackerErroriPEC:
    Description: '[Notification Tracker: canale PEC] URL della Coda Errori afferenti al canale PEC'
    Value: !Ref  PnEcQueueTrackerErroriPEC

  PnEcDLQueueNameTrackerErroriPEC:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerErroriPEC'
    Value: !GetAtt  PnEcDLQueueTrackerErroriPEC.QueueName

  PnEcDLQueueArnTrackerErroriPEC:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerErroriPEC'
    Value: !GetAtt  PnEcDLQueueTrackerErroriPEC.Arn

  PnEcQueueNameTrackerStatoEMAIL:
    Description: '[Notification Tracker: canale EMAIL] Nome della Coda per aggiornamenti di stato afferenti al canale EMAIL'
    Value: !GetAtt  PnEcQueueTrackerStatoEMAIL.QueueName

  PnEcQueueArnTrackerStatoEMAIL:
    Description: '[Notification Tracker: canale EMAIL] ARN della Coda per aggiornamenti di stato afferenti al canale EMAIL'
    Value: !GetAtt  PnEcQueueTrackerStatoEMAIL.Arn

  PnEcQueueUrlTrackerStatoEMAIL:
    Description: '[Notification Tracker: canale EMAIL] URL della Coda per aggiornamenti di stato afferenti al canale EMAIL'
    Value: !Ref  PnEcQueueTrackerStatoEMAIL

  PnEcDLQueueNameTrackerStatoEMAIL:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerStatoEMAIL'
    Value: !GetAtt  PnEcDLQueueTrackerStatoEMAIL.QueueName

  PnEcDLQueueArnTrackerStatoEMAIL:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerStatoEMAIL'
    Value: !GetAtt  PnEcDLQueueTrackerStatoEMAIL.Arn

  PnEcQueueNameTrackerErroriEMAIL:
    Description: '[Notification Tracker: canale EMAIL] Nome della Coda Errori afferenti al canale EMAIL'
    Value: !GetAtt  PnEcQueueTrackerErroriEMAIL.QueueName

  PnEcQueueArnTrackerErroriEMAIL:
    Description: '[Notification Tracker: canale EMAIL] ARN della Coda Errori afferenti al canale EMAIL'
    Value: !GetAtt  PnEcQueueTrackerErroriEMAIL.Arn

  PnEcQueueUrlTrackerErroriEMAIL:
    Description: '[Notification Tracker: canale EMAIL] URL della Coda Errori afferenti al canale EMAIL'
    Value: !Ref  PnEcQueueTrackerErroriEMAIL

  PnEcDLQueueNameTrackerErroriEMAIL:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerErroriEMAIL'
    Value: !GetAtt  PnEcDLQueueTrackerErroriEMAIL.QueueName

  PnEcDLQueueArnTrackerErroriEMAIL:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerErroriEMAIL'
    Value: !GetAtt  PnEcDLQueueTrackerErroriEMAIL.Arn

  PnEcQueueNameTrackerStatoCARTACEO:
    Description: '[Notification Tracker: canale CARTACEO] Nome della Coda per aggiornamenti di stato afferenti al canale CARTACEO'
    Value: !GetAtt  PnEcQueueTrackerStatoCARTACEO.QueueName

  PnEcQueueArnTrackerStatoCARTACEO:
    Description: '[Notification Tracker: canale CARTACEO] ARN della Coda per aggiornamenti di stato afferenti al canale CARTACEO'
    Value: !GetAtt  PnEcQueueTrackerStatoCARTACEO.Arn

  PnEcQueueUrlTrackerStatoCARTACEO:
    Description: '[Notification Tracker: canale CARTACEO] URL della Coda per aggiornamenti di stato afferenti al canale CARTACEO'
    Value: !Ref  PnEcQueueTrackerStatoCARTACEO

  PnEcDLQueueNameTrackerStatoCARTACEO:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerStatoCARTACEO'
    Value: !GetAtt  PnEcDLQueueTrackerStatoCARTACEO.QueueName

  PnEcDLQueueArnTrackerStatoCARTACEO:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerStatoCARTACEO'
    Value: !GetAtt  PnEcDLQueueTrackerStatoCARTACEO.Arn

  PnEcQueueNameTrackerErroriCARTACEO:
    Description: '[Notification Tracker: canale CARTACEO] Nome della Coda Errori afferenti al canale CARTACEO'
    Value: !GetAtt  PnEcQueueTrackerErroriCARTACEO.QueueName

  PnEcQueueArnTrackerErroriCARTACEO:
    Description: '[Notification Tracker: canale CARTACEO] ARN della Coda Errori afferenti al canale CARTACEO'
    Value: !GetAtt  PnEcQueueTrackerErroriCARTACEO.Arn

  PnEcQueueUrlTrackerErroriCARTACEO:
    Description: '[Notification Tracker: canale CARTACEO] URL della Coda Errori afferenti al canale CARTACEO'
    Value: !Ref  PnEcQueueTrackerErroriCARTACEO

  PnEcDLQueueNameTrackerErroriCARTACEO:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueTrackerErroriCARTACEO'
    Value: !GetAtt  PnEcDLQueueTrackerErroriCARTACEO.QueueName

  PnEcDLQueueArnTrackerErroriCARTACEO:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueTrackerErroriCARTACEO'
    Value: !GetAtt  PnEcDLQueueTrackerErroriCARTACEO.Arn

  PnEcQueueNameNotificheExt1:
    Description: '[Notification Tracker: PIATTAFORMA_ESTERNA_1] Nome della Coda per le notifiche a PIATTAFORMA_ESTERNA_1'
    Value: !GetAtt  PnEcQueueNotificheExt1.QueueName

  PnEcQueueArnNotificheExt1:
    Description: '[Notification Tracker: PIATTAFORMA_ESTERNA_1] ARN della Coda per le notifiche a PIATTAFORMA_ESTERNA_1'
    Value: !GetAtt  PnEcQueueNotificheExt1.Arn

  PnEcQueueUrlNotificheExt1:
    Description: '[Notification Tracker: PIATTAFORMA_ESTERNA_1] URL della Coda per le notifiche a PIATTAFORMA_ESTERNA_1'
    Value: !Ref  PnEcQueueNotificheExt1

  PnEcDLQueueNameNotificheExt1:
    Description: '[DLQ di Servizio - Tracker] Nome della DLQ relativa alla coda PnEcQueueNotificheExt1'
    Value: !GetAtt  PnEcDLQueueNotificheExt1.QueueName

  PnEcDLQueueArnNotificheExt1:
    Description: '[DLQ di Servizio - Tracker] ARN della DLQ relativa alla coda PnEcQueueNotificheExt1'
    Value: !GetAtt  PnEcDLQueueNotificheExt1.Arn

  PnEcQueueNameBatchSMS:
    Description: '[Canale SMS] Nome della Coda per la modalità SMS-Batch'
    Value: !GetAtt  PnEcQueueBatchSMS.QueueName

  PnEcQueueArnBatchSMS:
    Description: '[Canale SMS] ARN della Coda per la modalità SMS-Batch'
    Value: !GetAtt  PnEcQueueBatchSMS.Arn

  PnEcQueueUrlBatchSMS:
    Description: '[Canale SMS] URL della Coda per la modalità SMS-Batch'
    Value: !Ref  PnEcQueueBatchSMS

  PnEcDLQueueNameBatchSMS:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueBatchSMS'
    Value: !GetAtt  PnEcDLQueueBatchSMS.QueueName

  PnEcDLQueueArnBatchSMS:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueBatchSMS'
    Value: !GetAtt  PnEcDLQueueBatchSMS.Arn

  PnEcQueueNameInteractiveSMS:
    Description: '[Canale SMS] Nome della Coda per la modalità SMS-Interactive'
    Value: !GetAtt  PnEcQueueInteractiveSMS.QueueName

  PnEcQueueArnInteractiveSMS:
    Description: '[Canale SMS] ARN della Coda per la modalità SMS-Interactive'
    Value: !GetAtt  PnEcQueueInteractiveSMS.Arn

  PnEcQueueUrlInteractiveSMS:
    Description: '[Canale SMS] URL della Coda per la modalità SMS-Interactive'
    Value: !Ref  PnEcQueueInteractiveSMS

  PnEcDLQueueNameInteractiveSMS:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueInteractiveSMS'
    Value: !GetAtt  PnEcDLQueueInteractiveSMS.QueueName

  PnEcDLQueueArnInteractiveSMS:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueInteractiveSMS'
    Value: !GetAtt  PnEcDLQueueInteractiveSMS.Arn

  PnEcQueueNameErroriSMS:
    Description: '[Canale SMS] Nome della Coda Errori SMS'
    Value: !GetAtt  PnEcQueueErroriSMS.QueueName

  PnEcQueueArnErroriSMS:
    Description: '[Canale SMS] ARN della Coda Errori SMS'
    Value: !GetAtt  PnEcQueueErroriSMS.Arn

  PnEcQueueUrlErroriSMS:
    Description: '[Canale SMS] URL della Coda Errori SMS'
    Value: !Ref  PnEcQueueErroriSMS

  PnEcDLQueueNameErroriSMS:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueErroriSMS'
    Value: !GetAtt  PnEcDLQueueErroriSMS.QueueName

  PnEcDLQueueArnErroriSMS:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueErroriSMS'
    Value: !GetAtt  PnEcDLQueueErroriSMS.Arn

  PnEcQueueNameBatchPEC:
    Description: '[Canale PEC] Nome della Coda per la modalità PEC-Batch'
    Value: !GetAtt  PnEcQueueBatchPEC.QueueName

  PnEcQueueArnBatchPEC:
    Description: '[Canale PEC] ARN della Coda per la modalità PEC-Batch'
    Value: !GetAtt  PnEcQueueBatchPEC.Arn

  PnEcQueueUrlBatchPEC:
    Description: '[Canale PEC] URL della Coda per la modalità PEC-Batch'
    Value: !Ref  PnEcQueueBatchPEC

  PnEcDLQueueNameBatchPEC:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueBatchPEC'
    Value: !GetAtt  PnEcDLQueueBatchPEC.QueueName

  PnEcDLQueueArnBatchPEC:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueBatchPEC'
    Value: !GetAtt  PnEcDLQueueBatchPEC.Arn

  PnEcQueueNameInteractivePEC:
    Description: '[Canale PEC] Nome della Coda per la modalità PEC-Interactive'
    Value: !GetAtt  PnEcQueueInteractivePEC.QueueName

  PnEcQueueArnInteractivePEC:
    Description: '[Canale PEC] ARN della Coda per la modalità PEC-Interactive'
    Value: !GetAtt  PnEcQueueInteractivePEC.Arn

  PnEcQueueUrlInteractivePEC:
    Description: '[Canale PEC] URL della Coda per la modalità PEC-Interactive'
    Value: !Ref  PnEcQueueInteractivePEC

  PnEcDLQueueNameInteractivePEC:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueInteractivePEC'
    Value: !GetAtt  PnEcDLQueueInteractivePEC.QueueName

  PnEcDLQueueArnInteractivePEC:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueInteractivePEC'
    Value: !GetAtt  PnEcDLQueueInteractivePEC.Arn

  PnEcQueueNameErroriPEC:
    Description: '[Canale PEC] Nome della Coda Errori PEC'
    Value: !GetAtt  PnEcQueueErroriPEC.QueueName

  PnEcQueueArnErroriPEC:
    Description: '[Canale PEC] ARN della Coda Errori PEC'
    Value: !GetAtt  PnEcQueueErroriPEC.Arn

  PnEcQueueUrlErroriPEC:
    Description: '[Canale PEC] URL della Coda Errori PEC'
    Value: !Ref  PnEcQueueErroriPEC

  PnEcDLQueueNameErroriPEC:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueErroriPEC'
    Value: !GetAtt  PnEcDLQueueErroriPEC.QueueName

  PnEcDLQueueArnErroriPEC:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueErroriPEC'
    Value: !GetAtt  PnEcDLQueueErroriPEC.Arn

  PnEcQueueNameBatchEMAIL:
    Description: '[Canale EMAIL] Nome della Coda per la modalità EMAIL-Batch'
    Value: !GetAtt  PnEcQueueBatchEMAIL.QueueName

  PnEcQueueArnBatchEMAIL:
    Description: '[Canale EMAIL] ARN della Coda per la modalità EMAIL-Batch'
    Value: !GetAtt  PnEcQueueBatchEMAIL.Arn

  PnEcQueueUrlBatchEMAIL:
    Description: '[Canale EMAIL] URL della Coda per la modalità EMAIL-Batch'
    Value: !Ref  PnEcQueueBatchEMAIL

  PnEcDLQueueNameBatchEMAIL:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueBatchEMAIL'
    Value: !GetAtt  PnEcDLQueueBatchEMAIL.QueueName

  PnEcDLQueueArnBatchEMAIL:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueBatchEMAIL'
    Value: !GetAtt  PnEcDLQueueBatchEMAIL.Arn

  PnEcQueueNameInteractiveEMAIL:
    Description: '[Canale EMAIL] Nome della Coda per la modalità EMAIL-Interactive'
    Value: !GetAtt  PnEcQueueInteractiveEMAIL.QueueName

  PnEcQueueArnInteractiveEMAIL:
    Description: '[Canale EMAIL] ARN della Coda per la modalità EMAIL-Interactive'
    Value: !GetAtt  PnEcQueueInteractiveEMAIL.Arn

  PnEcQueueUrlInteractiveEMAIL:
    Description: '[Canale EMAIL] URL della Coda per la modalità EMAIL-Interactive'
    Value: !Ref  PnEcQueueInteractiveEMAIL

  PnEcDLQueueNameInteractiveEMAIL:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueInteractiveEMAIL'
    Value: !GetAtt  PnEcDLQueueInteractiveEMAIL.QueueName

  PnEcDLQueueArnInteractiveEMAIL:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueInteractiveEMAIL'
    Value: !GetAtt  PnEcDLQueueInteractiveEMAIL.Arn

  PnEcQueueNameErroriEMAIL:
    Description: '[Canale EMAIL] Nome della Coda Errori EMAIL'
    Value: !GetAtt  PnEcQueueErroriEMAIL.QueueName

  PnEcQueueArnErroriEMAIL:
    Description: '[Canale EMAIL] ARN della Coda Errori EMAIL'
    Value: !GetAtt  PnEcQueueErroriEMAIL.Arn

  PnEcQueueUrlErroriEMAIL:
    Description: '[Canale EMAIL] URL della Coda Errori EMAIL'
    Value: !Ref  PnEcQueueErroriEMAIL

  PnEcDLQueueNameErroriEMAIL:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueErroriEMAIL'
    Value: !GetAtt  PnEcDLQueueErroriEMAIL.QueueName

  PnEcDLQueueArnErroriEMAIL:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueErroriEMAIL'
    Value: !GetAtt  PnEcDLQueueErroriEMAIL.Arn

  PnEcQueueNameBatchCARTACEO:
    Description: '[Canale CARTACEO] Nome della Coda per la modalità CARTACEO-Batch'
    Value: !GetAtt  PnEcQueueBatchCARTACEO.QueueName

  PnEcQueueArnBatchCARTACEO:
    Description: '[Canale CARTACEO] ARN della Coda per la modalità CARTACEO-Batch'
    Value: !GetAtt  PnEcQueueBatchCARTACEO.Arn

  PnEcQueueUrlBatchCARTACEO:
    Description: '[Canale CARTACEO] URL della Coda per la modalità CARTACEO-Batch'
    Value: !Ref  PnEcQueueBatchCARTACEO

  PnEcDLQueueNameBatchCARTACEO:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueBatchCARTACEO'
    Value: !GetAtt  PnEcDLQueueBatchCARTACEO.QueueName

  PnEcDLQueueArnBatchCARTACEO:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueBatchCARTACEO'
    Value: !GetAtt  PnEcDLQueueBatchCARTACEO.Arn

  PnEcQueueNameErroriCARTACEO:
    Description: '[Canale CARTACEO] Nome della Coda Errori CARTACEO'
    Value: !GetAtt  PnEcQueueErroriCARTACEO.QueueName

  PnEcQueueArnErroriCARTACEO:
    Description: '[Canale CARTACEO] ARN della Coda Errori CARTACEO'
    Value: !GetAtt  PnEcQueueErroriCARTACEO.Arn

  PnEcQueueUrlErroriCARTACEO:
    Description: '[Canale CARTACEO] URL della Coda Errori CARTACEO'
    Value: !Ref  PnEcQueueErroriCARTACEO

  PnEcDLQueueNameErroriCARTACEO:
    Description: '[DLQ di Servizio] Nome della DLQ relativa alla coda PnEcQueueErroriCARTACEO'
    Value: !GetAtt  PnEcDLQueueErroriCARTACEO.QueueName

  PnEcDLQueueArnErroriCARTACEO:
    Description: '[DLQ di Servizio] ARN della DLQ relativa alla coda PnEcQueueErroriCARTACEO'
    Value: !GetAtt  PnEcDLQueueErroriCARTACEO.Arn